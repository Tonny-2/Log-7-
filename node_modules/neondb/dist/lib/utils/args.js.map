{"version":3,"file":"args.js","names":["DEFAULTS: Defaults"],"sources":["../../../src/lib/utils/args.ts"],"sourcesContent":["import { parseArgs } from \"node:util\";\nimport type { Defaults } from \"../types.js\";\n\nexport const DEFAULTS: Defaults = {\n\tdotEnvPath: \"./.env\",\n\tdotEnvKey: \"DATABASE_URL\",\n\tseed: undefined,\n\tenvPrefix: \"PUBLIC_\",\n};\n\nexport function getArgs() {\n\tconst { values, positionals } = parseArgs({\n\t\toptions: {\n\t\t\tyes: {\n\t\t\t\ttype: \"boolean\",\n\t\t\t\tshort: \"y\",\n\t\t\t\tdefault: false,\n\t\t\t},\n\t\t\tenv: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tshort: \"e\",\n\t\t\t},\n\t\t\tkey: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tshort: \"k\",\n\t\t\t},\n\t\t\tseed: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tshort: \"s\",\n\t\t\t},\n\t\t\tprefix: {\n\t\t\t\ttype: \"string\",\n\t\t\t\tshort: \"p\",\n\t\t\t},\n\t\t\thelp: {\n\t\t\t\ttype: \"boolean\",\n\t\t\t\tshort: \"h\",\n\t\t\t},\n\t\t},\n\t\tallowPositionals: true,\n\t});\n\n\tif (values.help) {\n\t\tconsole.log(`\nUsage: neondb [command] [options]\n\nCommands:\n  (default)       Create a new database (default command)\n  claim           Open the claim URL from your .env file\n\nOptions:\n  -y, --yes       Skip all prompts and use defaults\n  -e, --env       Path to the .env file (default: \"${DEFAULTS.dotEnvPath}\")\n  -k, --key       Key for the database connection string (default: \"${\n\t\tDEFAULTS.dotEnvKey\n  }\")\n  -s, --seed      Path to the seed (.sql) file (default: \"${\n\t\tDEFAULTS.seed?.path || \"none\"\n  }\")\n  -p, --prefix    Prefix for public environment variables (default: \"${\n\t\tDEFAULTS.envPrefix\n  }\")\n  -h, --help      Show this help message\n`);\n\t\tprocess.exit(0);\n\t} else {\n\t\treturn { ...values, command: positionals[0] || \"create\" };\n\t}\n}\n"],"mappings":";;;AAGA,MAAaA,WAAqB;CACjC,YAAY;CACZ,WAAW;CACX,MAAM;CACN,WAAW;CACX;AAED,SAAgB,UAAU;CACzB,MAAM,EAAE,QAAQ,gBAAgB,UAAU;EACzC,SAAS;GACR,KAAK;IACJ,MAAM;IACN,OAAO;IACP,SAAS;IACT;GACD,KAAK;IACJ,MAAM;IACN,OAAO;IACP;GACD,KAAK;IACJ,MAAM;IACN,OAAO;IACP;GACD,MAAM;IACL,MAAM;IACN,OAAO;IACP;GACD,QAAQ;IACP,MAAM;IACN,OAAO;IACP;GACD,MAAM;IACL,MAAM;IACN,OAAO;IACP;GACD;EACD,kBAAkB;EAClB,CAAC;AAEF,KAAI,OAAO,MAAM;AAChB,UAAQ,IAAI;;;;;;;;;qDASuC,SAAS,WAAW;sEAEvE,SAAS,UACR;4DAED,SAAS,MAAM,QAAQ,OACtB;uEAED,SAAS,UACR;;EAED;AACA,UAAQ,KAAK,EAAE;OAEf,QAAO;EAAE,GAAG;EAAQ,SAAS,YAAY,MAAM;EAAU"}